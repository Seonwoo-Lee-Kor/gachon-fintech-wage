# gachon-fintech-wage
가천대학교 금융수학과 2022-1학기 핀테크 수업 알바비를 부탁해 팀 깃허브

# 근무시간데이터산출
fingerprint 코드 설명
아두이노 지문센서 실행코드입니다. 지문을 이용한 시간 data를 산출하기 위해 시작 시간을 0으로 설정하고 끝난 시간을 loop문이 걸린 시간으로 설정하였습니다. 시간데이터를 산출하고 난 뒤 다시 시간이 0부터 시작되도록 설정하여 중복되는 시간이 없도록 하였고 Log In/Out을 개인별로 In/Out이 표시되도록 코드를 추가하였습니다. 하여 누가 In했는지 Out했는지 확인할 수 있습니다. Log Out 시 산출되는 시간은 밀로초로(0.000초) 나옵니다. 그리고 지문센서가 정상적으로 작동되는지 확인할 수 있도록 lcd 코드부분도 추가하였습니다. 더 자세한 설명은 코드의 주석을 보시면 확인할 수 있습니다.

data_main 코드 설명
아두이노를 파이썬에서 제어하는 코드입니다. 아두이노와 파이썬을 연결하여 아두이노에서 산출된 데이터를 파이썬으로 불러와 저장하도록 설정했습니다. 시간데이터를 불러오는 과정에서 아두이노의 문자열은 bytes입니다. ASCII코드는 저장할 수 있는 1 byte짜리 저장공간을 가진(글자 하나당 1 byte를 할당) 코드입니다. 그걸 우리는 아두이노 보드에서 기본적으로 사용하는데 파이썬에서는 문자열을 pc와 같은 성능이 좋은 하드웨어에서 사용되고 영어뿐만 아니라 한글도 이용합니다. 파이썬에서 사용하는 문자열은 기본적으로 유니코드입니다. 유니코드는 전세계 모든 언어를 다 표현할 수 있는 코드체계입니다. 그래서 요즘 나오는 소프트웨어는 기본적으로 문자열이 다 유니코드입니다. 하지만 아두이노는 씨리얼을 쓰기 때문에 유니코드를 처리할 수 없습니다. 유니코드 처리를 못해서 파이썬에서 아두이노의 문자열을 복호화 해주는 부분이 반드시 필요합니다. 복호화한 데이터에서 다시 시간 데이터만 저장할 때 기준은 Log Out입니다. Out 있을때와 없을때를 나눠났고 가져온 시간데이터는 밀로초로 되어 있기때문에 뒤 3자리를 자르는 부분이 필요했습니다. 그리고 시간데이터 뒷부분에 띄어쓰기가 붙는 경우 그 부분을 자르는 코드를 추가하였습니다.

first_idea_code 코드 설명
처음 아두이노를 시작할 때 tinkercad를 이용하여 만든 코드입니다. 이때는 숫자가 세어지는 모습을 보이고 싶어 세그먼트를 이용하여 코드를 완성시켰습니다. 세그먼트의 경우 각 위치마다 숫자가 있고 그 자리의 불을 키고끄는 방식으로 숫자를 표현할 수 있습니다. 1의 자리가 9가 되면 10의 자리가 1 늘어나고 10의 자리가 9가 되면 100의 자리가 1 늘어나는 코드로 구성하였습니다. 발표 이후에는 보안을 위해 지문인식으로 바꿨습니다.

# 월근무시간과 월급액 산출
branch 데이터를 통해 월 근무시간과 월급액 산출은 저희 프로젝트 4단계중 2단계에 해당합니다.

-wage_calculate_with_adu.ipynb

최종 결과물과 관련된 파일입니다. 해당 파일 IN[71] 부분은 데이터프레임 파일 안의 값이 INT가 아니기 때문에 밑에 SUM 함수를 이용하고자 데이터프레임을 재생성하는 코드입니다. IN[72]에서 주별 근무시간을 구하고 for문을 통해 주휴수당을 계산합니다.

-wage_time data(ex).ipynb

아두이노 결과값을 받기 전 데이터 프레임의 예시를 만드는 파일입니다.

-wage_calculate.ipynb

예시로 만들어진 데이터 프레임을 통해 월급액을 계산하는 파일입니다.



# 예정 지급 월급액과 지갑 잔액 비교
branch 예정 지급 월급액과 지갑 잔액 비교는 저희 프로젝트 4단계중 2단계에 해당합니다.


-coinone_api_krw.ipynb 

코인원 api를 통해 지갑의 잔액을 읽어오는 파일입니다.

ACCESS_TOKEN = '52b36f87-c585-4786-85da-7f4af2208585'
SECRET_KEY = bytes('d2097823-9f5d-4851-812c-eea7f866012a', 'utf-8') 

계좌를 발급 받을 때 시크릿 키와 엑세스 토큰을 발급받아 개인 지갑의 api를 가져올 수 있습니다. 위의 키와 토큰은 저희 계좌의 것으로 계좌에는 현재 3원이 있습니다.
IN[89]는 저희가 가져 온 API 중 KRW에 해당하는 금액만을 FLOAT로 나타낸 것입니다.


-transfer_possibility.ipynb

송금 가능성을 계산한 파일입니다. 앞의 내용은 wage_calculate_with_adu.ipynb과 coinone_api_krw.ipynb의 코드를 사용합니다. IN[8]에서 지갑의 KRW 잔액과 계산된 예정 지급 월급액을 비교해 IF문을 통해 possibility을 따집니다.
